---
layout: post
title: "慕学在线教育平台-慕课"
date: 2020-02-04 18:26:40

tags:
- Python
- 项目
- Django
- Vue
---
* content
{:toc}

慕学在线教育平台-慕课











# 安装mysql驱动
1. 访问[Unofficial Windows Binaries for Python Extension Packages](https://www.lfd.uci.edu/~gohlke/pythonlibs/)搜`mysqlclient`,下载python3.7 64位版本(这个版本是python的版本,不是操作系统的版本)  
2. 进入下载目录,进入虚拟环境`pip install mysqlclient-1.4.2-cp37-cp37m-win_amd64.whl`

`print(查询结果.query)`可以查对应的SQL语句

[解决“raise ValueError("Dependency on app with no migrations: %s" % key[0]) ValueError: Dependency on ”](https://blog.csdn.net/lezeqe/article/details/85638439)

---
[UnicodeDecodeError: 'gbk' codec can't decode byte 0xa6 in position 9737: ill....](https://www.cnblogs.com/loveprogramme/p/10726712.html)


# 新增用户报错
原因: django自带的新增用户只有用户名,密码和确认密码,但是用户表里mobile列设置了唯一约束,默认为空,创建超级用户的时候手机号默认为空了,后面再创建用户手机号就不能为空了,所以要把唯一约束去掉,或者修改django源码(不推荐)


# 导入静态文件路径`static`前必须有`/`
如`<link rel="stylesheet" type="text/css" href="/static/css/style.css">`  
`/static`和`settings.py`文件中的`STATIC_URL = '/static/'`是对应的  
如果不加`/`,浏览器就会把`/static/css/style.css`当成路由去解析成`http://127.0.0.1:8000/static/css/style.css`就会报404


# 图片验证码
[GitHub搜django simple captcha](https://django-simple-captcha.readthedocs.io/en/latest/usage.html#adding-to-a-form)


# Redis缓存
[去GitHub上搜redis Windows](https://github.com/ServiceStack/redis-windows/blob/master/downloads/redis-latest.zip)

下载redis-latest.zip后解压,进入文件夹运行`redis-server.exe`启动服务,再打开一个命令行运行`redis-cli.exe`连接服务

[redis驱动](https://github.com/andymccurdy/redis-py)

### redis.exceptions.ConnectionError: Error 10061 connecting to 127.0.0.1:6379. 由于目标计算机积极拒绝，无法连接。
Redis服务没开

# MxOnline
---
[Django+xadmin打造在线教育平台](https://www.cnblogs.com/derek1184405959/p/8590360.html)

---
[Django Xadmin站点管理配置](https://www.jianshu.com/p/08db37a05ea5)

---
[Django使用Ueditor](https://blog.csdn.net/elang6962/article/details/70556489)

---
[Django2.2.4安装xadmin步骤](https://www.cnblogs.com/sinkingcn/p/11301486.html)

---
[解决“raise ValueError("Dependency on app with no migrations: %s" % key[0]) ValueError: Dependency on ”](https://blog.csdn.net/lezeqe/article/details/85638439)

---
[UnicodeDecodeError: 'gbk' codec can't decode byte 0xa6 in position 9737: ill....](https://www.cnblogs.com/loveprogramme/p/10726712.html)

["CSRF token missing or incorrect."的解决方法.](https://blog.csdn.net/chen_jint/article/details/12956797)

[分页](https://github.com/jamespacileo/django-pure-pagination)


# 整体思路
先创建model类  
然后配置后台信息  
登录注册  
因为课程是属于机构的,所以先写机构  

# 配置静态文件
```
{ % load staticfiles % }
{ % static 'js/jquery.min.js' % }
```

# ajax请求查错方法
F12看看Network有没有发送出去


文件夹名
	.idea
	.git
	venv
	项目名
		.idea
		manage.py
		
		
项目名
	.idea
	.git
	venv
	manage.py
	
# 不能根据add_time排序
add_time统一写到user的models.py里面了,需要导入并继承BaseModel


# 视频播放不了,可能是因为model类中视频路径字段长度不够,给截断了

# 405错误是浏览器请求的方法错误,检查视图函数中get方法和post方法使用是否正确









